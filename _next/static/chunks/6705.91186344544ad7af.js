(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6705],{19818:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getCollection"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"products"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"onlineStoreUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"priceRange"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"minVariantPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"maxVariantPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"values"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"variants"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"250"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"25"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"thumbnail"},name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"transform"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"maxHeight"},value:{kind:"IntValue",value:"200"}},{kind:"ObjectField",name:{kind:"Name",value:"maxWidth"},value:{kind:"IntValue",value:"200"}}]}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"original"},name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:995}};t.loc.source={body:"query getCollection($id: ID!) {\n  collection(id: $id) {\n    id\n    title\n    description\n    products(first: 50) {\n      edges {\n        node {\n          id\n          title\n          onlineStoreUrl\n          publishedAt\n          priceRange {\n            minVariantPrice {\n              amount\n            }\n            maxVariantPrice {\n              amount\n            }\n          }\n          options {\n            id\n            values\n            name\n          }\n          variants(first: 250) {\n            edges {\n              node {\n                title\n                id\n                price {\n                  amount\n                }\n              }\n            }\n          }\n          images(first: 25) {\n            edges {\n              node {\n                ... on Image {\n                  thumbnail: url(transform: { maxHeight: 200, maxWidth: 200 })\n                  original: url\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){collectFragmentReferences(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){collectFragmentReferences(e,t)}),e.definitions&&e.definitions.forEach(function(e){collectFragmentReferences(e,t)})})(e,t),n[e.name.value]=t}}),e.exports=t,e.exports.getCollection=function(e,t){var r={kind:e.kind,definitions:[findOperation(e,t)]};e.hasOwnProperty("loc")&&(r.loc=e.loc);var i=n[t]||new Set,a=new Set,o=new Set;for(i.forEach(function(e){o.add(e)});o.size>0;){var c=o;o=new Set,c.forEach(function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach(function(e){o.add(e)}))})}return a.forEach(function(t){var n=findOperation(e,t);n&&r.definitions.push(n)}),r}(t,"getCollection")},26705:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return W}});var r=n(82729),i=n(85893),a=n(67294),o=n(14141),c=n(71562);n(46163);var l=n(25480),s=n.n(l),u=n(44051),d=n.n(u),p=n(8043);function _templateObject(){let e=(0,r._)(["\n  ",";\n  ",";\n  ",";\n\n  /**\n   * We boost our generalized style resets specificy by one to ensure that it\n   * beats our cascade reset rules and takes effect.\n   */ \n  ","."," {\n    ::selection {\n      background: #b3d4fc;\n      text-shadow: none;\n    }\n\n    hr {\n      display: block;\n      height: 1px;\n      border: 0;\n      border-top: 1px solid #ccc;\n      margin: 1em 0;\n      padding: 0;\n    }\n\n    audio,\n    canvas,\n    iframe,\n    img,\n    svg,\n    video {\n      vertical-align: middle;\n    }\n\n    fieldset {\n      border: 0;\n      margin: 0;\n      padding: 0;\n    }\n\n    textarea {\n      resize: vertical;\n    }\n\n    html {\n      box-sizing: border-box;\n    }\n\n    *,\n    *:before,\n    *:after {\n      box-sizing: border-box;\n    }\n\n    @media print {\n      *,\n      *:before,\n      *:after,\n      *:first-letter {\n        background: transparent !important;\n        color: #000 !important; /* Black prints faster: http://www.sanbeiji.com/archives/953 */\n        box-shadow: none !important;\n      }\n\n      a,\n      a:visited {\n        text-decoration: underline;\n      }\n\n      a[href]:after {\n        content: ' (' attr(href) ')';\n      }\n\n      abbr[title]:after {\n        content: ' (' attr(title) ')';\n      }\n\n      a[href^='#']:after,\n      a[href^='javascript:']:after {\n        content: '';\n      }\n\n      pre,\n      blockquote {\n        border: 1px solid #999;\n        page-break-inside: avoid;\n      }\n\n      thead {\n        display: table-header-group;\n      }\n\n      tr,\n      img {\n        page-break-inside: avoid;\n      }\n\n      img {\n        max-width: 100% !important;\n      }\n\n      p,\n      h2,\n      h3 {\n        orphans: 3;\n        widows: 3;\n      }\n\n      h2,\n      h3 {\n        page-break-after: avoid;\n      }\n    }\n\n    html {\n      width: 100%;\n      height: 100%;\n      -ms-touch-action: manipulation;\n      touch-action: manipulation;\n    }\n\n    body {\n      width: 100%;\n      height: 100%;\n      min-height: 100%;\n      margin: 0;\n    }\n\n    button {\n      bottom: 0;\n      width: 100%;\n      border: none;\n      cursor: pointer;\n    }\n\n    a:empty,\n    article:empty,\n    div:empty,\n    dl:empty,\n    h1:empty,\n    h2:empty,\n    h3:empty,\n    h4:empty,\n    h5:empty,\n    h6:empty,\n    p:empty,\n    section:empty,\n    ul:empty {\n      display: initial;\n    }\n\n \n  }\n\n  /* Client Specific styles */\n  /* Tabu */\n  .rsfullscreen .collapsible-content__inner {\n    transform: none !important;\n  }\n"]);return _templateObject=function(){return e},e}let f="\n".concat(p.kH," > *:not(svg):not(svg *):not(script):not(style) {\n    all: initial;\n}\n").concat(p.kH,",\n").concat(p.kH," a,\n").concat(p.kH," abbr,\n").concat(p.kH," acronym,\n").concat(p.kH," address,\n").concat(p.kH," applet,\n").concat(p.kH," area,\n").concat(p.kH," article,\n").concat(p.kH," aside,\n").concat(p.kH," audio,\n").concat(p.kH," b,\n").concat(p.kH," base,\n").concat(p.kH," basefont,\n").concat(p.kH," bdi,\n").concat(p.kH," bdo,\n").concat(p.kH," big,\n").concat(p.kH," blockquote,\n").concat(p.kH," body,\n").concat(p.kH," br,\n").concat(p.kH," button,\n").concat(p.kH," canvas,\n").concat(p.kH," caption,\n").concat(p.kH," center,\n").concat(p.kH," cite,\n").concat(p.kH," code,\n").concat(p.kH," col,\n").concat(p.kH," colgroup,\n").concat(p.kH," data,\n").concat(p.kH," datalist,\n").concat(p.kH," dd,\n").concat(p.kH," del,\n").concat(p.kH," details,\n").concat(p.kH," dfn,\n").concat(p.kH," dialog,\n").concat(p.kH," dir,\n").concat(p.kH," div,\n").concat(p.kH," dl,\n").concat(p.kH," dt,\n").concat(p.kH," em,\n").concat(p.kH," embed,\n").concat(p.kH," fieldset,\n").concat(p.kH," figcaption,\n").concat(p.kH," figure,\n").concat(p.kH," font,\n").concat(p.kH," footer,\n").concat(p.kH," form,\n").concat(p.kH," frame,\n").concat(p.kH," frameset,\n").concat(p.kH," h1,\n").concat(p.kH," h2,\n").concat(p.kH," h3,\n").concat(p.kH," h4,\n").concat(p.kH," h5,\n").concat(p.kH," h6,\n").concat(p.kH," head,\n").concat(p.kH," header,\n").concat(p.kH," hr,\n").concat(p.kH," html,\n").concat(p.kH," i,\n").concat(p.kH," iframe,\n").concat(p.kH," img,\n").concat(p.kH," input,\n").concat(p.kH," ins,\n").concat(p.kH," kbd,\n").concat(p.kH," label,\n").concat(p.kH," legend,\n").concat(p.kH," li,\n").concat(p.kH," link,\n").concat(p.kH," main,\n").concat(p.kH," map,\n").concat(p.kH," mark,\n").concat(p.kH," meta,\n").concat(p.kH," meter,\n").concat(p.kH," nav,\n").concat(p.kH," noframes,\n").concat(p.kH," noscript,\n").concat(p.kH," object,\n").concat(p.kH," ol,\n").concat(p.kH," optgroup,\n").concat(p.kH," option,\n").concat(p.kH," output,\n").concat(p.kH," p,\n").concat(p.kH," param,\n").concat(p.kH," picture,\n").concat(p.kH," pre,\n").concat(p.kH," progress,\n").concat(p.kH," q,\n").concat(p.kH," rp,\n").concat(p.kH," rt,\n").concat(p.kH," ruby,\n").concat(p.kH," s,\n").concat(p.kH," samp,\n").concat(p.kH," script,\n").concat(p.kH," section,\n").concat(p.kH," select,\n").concat(p.kH," small,\n").concat(p.kH," source,\n").concat(p.kH," span,\n").concat(p.kH," strike,\n").concat(p.kH," strong,\n").concat(p.kH," style,\n").concat(p.kH," sub,\n").concat(p.kH," summary,\n").concat(p.kH," sup,\n").concat(p.kH," table,\n").concat(p.kH," tbody,\n").concat(p.kH," td,\n").concat(p.kH," template,\n").concat(p.kH," textarea,\n").concat(p.kH," tfoot,\n").concat(p.kH," th,\n").concat(p.kH," thead,\n").concat(p.kH," time,\n").concat(p.kH," title,\n").concat(p.kH," tr,\n").concat(p.kH," track,\n").concat(p.kH," tt,\n").concat(p.kH," u,\n").concat(p.kH," ul,\n").concat(p.kH," var,\n").concat(p.kH," video,\n").concat(p.kH," wbr\n{\n    all: revert; \n}\n"),m="\n".concat(p.kH," svg, \n").concat(p.kH," svg * { \n  /** \n   * Color needs to be set to unset so that the SVGS \n   * take the color of their containg div as fill\n   */\n  color: unset;\n\n  /** \n   * fill and stroke need to be set to currentColor so that the SVGS \n   * take the color of their containg div as fill\n   */\n  fill: currentColor;\n  stroke: currentColor;\n\n  fill-opacity: initial;\n  fill-rule: initial;\n  stroke: initial;\n  stroke-dasharray: initial;\n  stroke-dashoffset: initial;\n  stroke-linecap: initial;\n  stroke-linejoin: initial;\n  stroke-miterlimit: initial;\n  stroke-opacity: initial;\n  stroke-width: initial;\n  \n  display: initial;\n  width: initial;\n  height: initial;\n  border: initial;\n  padding: initial;\n  margin: initial;\n  stroke: initial;\n  background: initial;\n  background-attachment:	initial;\n  background-color:	initial;\n  background-image:	initial;\n  background-position:	initial;\n  background-repeat:	initial;\n  transform: initial;\n  clear:	initial;\n  clip:	initial;\n  cursor:	initial;\n  filter:	initial;\n  float:	initial;;\n  font:	initial;\n  font-family:	initial;\n  font-size:	initial;\n  font-variant:	initial;\n  font-weight:	initial;\n  height:	initial;\n  left:	initial;\n  letter-spacing:	initial;\n  line-height:	initial;\n  list-style:	initial;\n  list-style-image:	initial;\n  list-style-position:	initial;\n  list-style-type:	initial;\n  margin:	initial;\n  margin-bottom:	initial;\n  margin-left:	initial;\n  margin-right:	initial;\n  margin-top:	initial;\n  overflow:	initial;\n  padding:	initial;\n  padding-bottom:	initial;\n  padding-left:	initial;\n  padding-right:	initial;\n  padding-top:	initial;\n  page-break-after:	initial;\n  page-break-before:	initial;\n  position:	initial;\n  border-bottom:	initial;\n  border-bottom-color:	initial;\n  border-bottom-style:	initial;\n  border-bottom-width:	initial;\n  border-color:	initial;\n  border-left:	initial;\n  border-left-color:	initial;\n  border-left-style:	initial;\n  border-left-width:	initial;\n  border-right:	initial;\n  border-right-color:	initial;\n  border-right-style:	initial;\n  border-right-width:	initial;\n  border-style:	initial;\n  border-top:	initial;\n  border-top-color:	initial;\n  border-top-style:	initial;\n  border-top-width:	initial;\n  border-width:	initial;\n  text-align:	initial;\n  text-decoration:	initial;\n  text-indent:	initial;\n  text-transform:	initial;\n  top:	initial;\n  vertical-align:	initial;\n  visibility:	initial;\n  width:	initial;\n  z-index:	initial;\n\n  alignment-baseline: initial;\n  baseline-shift: initial;\n  clip-path: initial;\n  clip-rule: initial;\n  color-interpolation: initial;\n  color-interpolation-filters: initial;\n  color-rendering: initial;\n  cursor: initial;\n  direction: initial;\n  display: initial;\n  dominant-baseline: initial; \n  filter: initial;\n  flood-color: initial;\n  flood-opacity: initial;\n  font-family: initial;\n  font-size: initial;\n  font-size-adjust: initial;\n  font-stretch: initial;\n  font-style: initial;\n  font-variant: initial;\n  font-weight: initial;\n  glyph-orientation-horizontal: initial;\n  glyph-orientation-vertical: initial;\n  image-rendering: initial;\n  letter-spacing: initial;\n  lighting-color: initial;\n  marker-end: initial;\n  marker-mid: initial;\n  marker-start: initial;\n  mask: initial;\n  opacity: initial;\n  overflow: initial;\n  paint-order: initial;\n  pointer-events: initial;\n  shape-rendering: initial;\n  stop-color: initial;\n  stop-opacity: initial;\n  text-anchor: initial;\n  text-decoration: initial;\n  text-overflow: initial;\n  text-rendering: initial;\n  unicode-bidi: initial;\n  vector-effect: initial;\n  visibility: initial;\n  white-space: initial;\n  word-spacing: initial;\n  writing-mode: initial;\n}"),h=(0,o.vJ)(_templateObject(),e=>{let{applyGlobalResets:t}=e;return t&&"".concat(f,";").concat(m,";")},d(),s(),p.kH,p.gH);var g=n(61936);let AppLoadingPlaceholder=e=>{let{isFullScreen:t}=e;return t?null:(0,i.jsx)(g.q,{})};var v=n(71693),y=n(50050);let StreamNotFoundError=class StreamNotFoundError extends Error{constructor(e="Failed to get stream."){super(e),this.name="StreamNotFoundError",Error.captureStackTrace&&Error.captureStackTrace(this,StreamNotFoundError)}};let getReplay=async e=>{let t=await fetch("".concat(p.CT,"/replays/").concat(e,"/"),{headers:{"Content-Type":"application/json"}});if(!t.ok)return console.info("Replay not found for id ".concat(e)),null;let n=await t.json();return n},getStreams=async e=>{if(!e)throw Error("Failed to get stream because no storeId was provided");try{let t=await fetch("".concat(p.CT,"/streams/?producer=").concat(e),{headers:{"Content-Type":"application/json"}});if(!t.ok)throw new StreamNotFoundError;let{results:n}=await t.json();return n}catch(e){return console.error(e),[]}};var S=n(74907),k=n(93598),P=n(31783),C=n(96492),b=n(96592),H=n(99597),w=n(48361),I=n(69433),_=n(89878),E=n(41366),O=n(90341),A=n(21851),N=n(26674),T=n(85817),x=n(4545),F=n(11117),R=n(28338),D=n(66420),L=n(88058);let B="rs:ca:state",persistToSessionStorageMiddleware=e=>{let{getState:t}=e;return e=>n=>{let r=e(n);return sessionStorage.setItem(B,JSON.stringify(t())),r}},reHydrateStore=()=>{let e=null!==sessionStorage.getItem(B);if(e)return JSON.parse(sessionStorage.getItem(B))},getStore=e=>{let t=(0,H.xC)({reducer:{chat:T.I6,common:E.ZP,crowdNoise:_.ZP,discountGrab:R.ZP,discounts:x.ZP,merchant:N.ZP,poll:w.I6,products:I.ZP,replays:O.ZP,streams:b.ZP,user:A.ZP,giftDrop:F.ZP,collections:D.I6,quiz:L.ZP},...!e&&{preloadedState:reHydrateStore(),middleware:e=>e().concat(persistToSessionStorageMiddleware)}});return window.rsCAStore=t,t},createApolloClient=async(e,t)=>{let{setContext:r}=await Promise.all([n.e(4302),n.e(9989)]).then(n.bind(n,49989)),{ApolloClient:i,InMemoryCache:a,createHttpLink:o}=await Promise.all([n.e(4302),n.e(6889)]).then(n.bind(n,6889)),c="https://".concat(e,"/api/").concat(p.V4,"/graphql.json"),l=o({uri:c}),s=r(()=>({headers:{"Content-Type":"application/json","X-Shopify-Storefront-Access-Token":t}})),u=new i({link:s.concat(l),cache:new a,defaultOptions:{query:{errorPolicy:"all"},mutate:{errorPolicy:"all"}}});return u},useIsMobile=()=>{let e=(0,C.I0)(),t=window.matchMedia("(max-width: 480px)");e((0,E.Ep)(t.matches)),(0,a.useEffect)(()=>{let updateIsMobileOnChange=t=>{e((0,E.Ep)(t.matches))};return t.addEventListener("change",updateIsMobileOnChange),()=>t.removeEventListener("change",updateIsMobileOnChange)})};var M=n(16177);let j=Date.now(),sendReports=(e,t)=>{for(let n of t){let t="HeavyAdIntervention"===n.body.id;if(!t)return;let r=(Date.now()-j)/1e3,i="".concat(r,"s:").concat(e," violated Chrome Heavy Ads requirements with: ").concat(n.body.message),a=new FormData;a.append("content",i),navigator.sendBeacon("https://discord.com/api/webhooks/1228361320546435133/rW2FE9MV1hsxXi5UuUNwuirCQpAuy2O7jI1qAfJm0noLt6fZJPenhzHsYZy6EbbZ41bn",a)}},useReportHeavyAdRemovals=()=>{let e=(0,a.useRef)(null),t=(0,C.v9)(M.dQ),n=(0,C.v9)(E.SO);(0,a.useEffect)(()=>{if(!n)return()=>{};try{let n=new ReportingObserver((e,n)=>{sendReports(t,e)},{buffered:!0});return n.observe(),e.current=n,()=>n.disconnect()}catch(e){console.error(e)}},[n,t]),(0,a.useEffect)(()=>{if(!n)return()=>{};let sendReportsListener=t=>{var n;let r=null===(n=e.current)||void 0===n?void 0:n.takeRecords();r&&sendReports(r)};return window.addEventListener("pagehide",sendReportsListener),()=>{window.removeEventListener("pagehide",sendReportsListener)}},[n])};var U=n(99551);let useTrackUnMutesAsConversion=()=>{let e=(0,a.useRef)(!1),t=(0,C.I0)(),n=(0,C.v9)(E.SO),r=(0,C.v9)(E.Ni),i=(0,C.v9)(b.yN),o=(0,C.v9)(E.Yv),c=null==i?void 0:i.producer;(0,a.useEffect)(()=>{if(!n)return;let i=o&&!1===e.current;i&&(t((0,U.LW)({event_name:"unmuted",data:{...r&&{cntr_ifa:r}}})),e.current=!0)},[t,n,r,c,o])};function App_templateObject(){let e=(0,r._)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100vw;\n  height: 100vh;\n  height: 100dvh;\n  max-height: 100%;\n  z-index: 2147483647 !important;\n\n  && {\n    pointer-events: ",";\n  }\n"]);return App_templateObject=function(){return e},e}function _templateObject1(){let e=(0,r._)(["\n  svg {\n    position: initial !important;\n  }\n"]);return _templateObject1=function(){return e},e}let G=(0,a.lazy)(()=>Promise.all([n.e(99),n.e(6995)]).then(n.bind(n,76995))),loadFeatures=()=>Promise.all([n.e(7494),n.e(2701),n.e(7557)]).then(n.bind(n,87557)).then(e=>e.default),V=(0,y.j)(),z=(0,o.ZP)(k.m.div).withConfig({componentId:"sc-a6051c9a-0"})(App_templateObject(),e=>{let{$mobileAppIsFullScreen:t}=e;return t?"auto":"none"}),q=o.ZP.div.withConfig({componentId:"sc-a6051c9a-1"})(_templateObject1()),useConfigureApollo=()=>{let e=(0,C.v9)(N.n2),t=(0,C.v9)(N.Tj),n=(0,a.useRef)(!0),[r,i]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(()=>{let r=[e,t,n.current].every(Boolean);r&&(n.current=!1,createApolloClient(e,t).then(e=>i(()=>e)))})()},[e,t,n]),r},useExtractPropertiesFromScript=()=>{let e=(0,C.I0)(),t=(0,a.useMemo)(()=>(0,S.mG)("shop"),[]),n=(0,a.useMemo)(()=>(0,S.mG)("storefrontAccessToken"),[]),r=(0,a.useMemo)(()=>(0,S.mG)("storeId"),[]);(0,a.useEffect)(()=>{e((0,N.Eo)(t)),e((0,N.e6)(n)),e((0,N.Jy)(r))},[t,n,r,e])},useGetStreams=e=>{let t=(0,C.I0)(),n=(0,C.v9)(N.po),r=(0,a.useRef)(!1);(0,a.useEffect)(()=>{let getStreamData=async()=>{if(r.current||!n||!e)return;let i=await getStreams(n);i.map(n=>t((0,b.rH)({stream:n,gqlClient:e}))),r.current=!0};getStreamData()},[n,t,e])},useGetReplays=e=>{let t=(0,C.I0)(),n=(0,S.ys)("replayId"),r=(0,a.useRef)(!1);(0,a.useEffect)(()=>{let getAndStoreReplay=async i=>{if(!r.current&&!(!(null==n?void 0:n.length)>0)&&e)try{var a;let n=await getReplay(i);if(r.current=!0,!n)return;t((0,O.eK)(n));let o=null===(a=n.stream)||void 0===a?void 0:a.collection;o&&t((0,D.lA)({id:n.stream.collection,gqlClient:e}))}catch(e){V.error(e)}},getReplays=async e=>{await Promise.allSettled(e.map(getAndStoreReplay))};getReplays(n)},[n,t,e])},InPageEmbedApp=()=>{let e=(0,C.I0)(),t=useConfigureApollo(),n=(0,C.v9)(E.Hu),r=(0,C.v9)(E.Ch),o=(0,C.v9)(E.SO),l=(0,C.v9)(E.E5),s=(0,C.v9)(b.yN),u=(0,C.v9)(E.Vq),d=(0,C.v9)(E.J4),p=(0,a.useRef)(!1),f=null==s?void 0:s.collection;return((0,a.useEffect)(()=>{n&&l&&e((0,E.H8)(!1))},[]),(0,a.useEffect)(()=>{o&&(e((0,E.H8)(!0)),e((0,E.er)(!0)))},[]),(0,a.useEffect)(()=>{f&&t&&!p.current&&(e((0,D.lA)({id:f,gqlClient:t})),p.current=!0)},[f,t,e]),s)?!t&&d?(0,i.jsx)(q,{children:(0,i.jsx)(g.q,{})}):t?n||l?(0,i.jsxs)(c.e,{client:t,children:[u&&(0,i.jsx)(AppLoadingPlaceholder,{isFullScreen:r}),(0,i.jsx)(a.Suspense,{children:(0,i.jsx)(G,{dragRef:!1,shouldDrag:!1})})]}):(0,i.jsxs)(c.e,{client:t,children:[u&&(0,i.jsx)(AppLoadingPlaceholder,{isFullScreen:r}),(0,i.jsx)(a.Suspense,{children:(0,i.jsx)(G,{dragRef:!1,shouldDrag:!1,onMouseEnter:()=>{e((0,E.sB)(!0))},onMouseLeave:()=>{e((0,E.sB)(!1))}})})]}):(0,i.jsx)(AppLoadingPlaceholder,{isFullScreen:r}):null},AppContainer=()=>{let e=(0,C.v9)(b.yN),t=(0,C.v9)(E.$d),n=(0,C.v9)(E.Hu),r=(0,a.useRef)(null);return e?(0,i.jsx)(z,{$mobileAppIsFullScreen:n&&t,ref:r,children:(0,i.jsx)(a.Suspense,{children:(0,i.jsx)(G,{shouldDrag:!n,ref:r})})}):null},MerchantSiteEmbededApp=()=>{useExtractPropertiesFromScript();let e=useConfigureApollo();return(useGetStreams(e),useGetReplays(e),e)?(0,i.jsx)(c.e,{client:e,children:(0,i.jsx)(AppContainer,{})}):null},useInitializeAndHydrateStore=e=>{let{storeInformation:t,stream:n,replay:r,isAd:i=!1,clickUrl:o=null,clickId:c=null,ifa:l=null,isFullScreen:s=!1,isInContentProducerView:u=!1,isInPageEmbed:d=!1,autoplay:p=!0,poweredByBar:f=!0,storeListeners:m=[]}=e,h=getStore(d),{dispatch:g,subscribe:v}=h;if((0,a.useEffect)(()=>{let e=m.map(e=>v(e(h)));return()=>{e.forEach(e=>e())}},[m,h,v]),g((0,E.oR)(u)),g((0,E.x4)(d)),g((0,E.H8)(p)),i&&g((0,E.Ib)(!0)),l&&g((0,E.be)(l)),o&&g((0,E.Vu)(o)),c&&g((0,E.yC)(c)),s&&g((0,E.er)(!0)),n&&g((0,b.kO)(n)),r&&g((0,O.eK)(r)),f||g((0,E.mq)(f)),t){var y,S;let{shopifyAuth:e,profile:n}=t;g((0,N.Eo)(null==e?void 0:e.extra_data.shop)),g((0,N.e6)(null==e?void 0:null===(S=e.extra_data)||void 0===S?void 0:null===(y=S.storefront_access_token)||void 0===y?void 0:y.access_token)),g((0,N.Jy)(null==n?void 0:n.id))}let k=!t&&r;if(k){let e=new URL(r.embed_url),t=new URLSearchParams(e.search),n=t.get("shop"),i=t.get("storefrontAccessToken");g((0,N.Eo)(n)),g((0,N.e6)(i)),g((0,N.Jy)(r.stream.producer))}return h},useGetAppTheme=()=>{let e=(0,C.v9)(E.w_),t=(0,C.v9)(b.No),n=(0,C.v9)(b.N);return{...v.Wb,...t,userDefined:n,isInPageEmbed:e,isFloatingWindow:!e}},ConfigurableThemeProvider=e=>{let t=useGetAppTheme();return(0,i.jsx)(o.f6,{theme:t,children:e.children})},AppLevelHooks=e=>{let{children:t}=e;return useIsMobile(),useReportHeavyAdRemovals(),useTrackUnMutesAsConversion(),(0,i.jsx)(i.Fragment,{children:t})},Z=a.memo(function(e){let{isInPageEmbed:t,applyGlobalResets:n=!0}=e,r=useInitializeAndHydrateStore(e),a=t?InPageEmbedApp:MerchantSiteEmbededApp;return(0,i.jsx)(C.zt,{store:r,children:(0,i.jsx)(AppLevelHooks,{children:(0,i.jsxs)(ConfigurableThemeProvider,{children:[(0,i.jsx)(h,{applyGlobalResets:n}),(0,i.jsx)(P.X,{strict:!0,features:loadFeatures,children:(0,i.jsx)(a,{...e})})]})})})},(e,t)=>{var n,r;let i=(null===(n=e.stream)||void 0===n?void 0:n.id)!==(null===(r=t.stream)||void 0===r?void 0:r.id),a=e.storeListeners!==t.storeListeners,o=e.isInContentProducerView!==t.isInContentProducerView,c=e.isInPageEmbed===t.isInPageEmbed;return!i&&!a&&!o&&c});var W=Z},99551:function(e,t,n){"use strict";n.d(t,{DW:function(){return getAdConfigurationByUser},LW:function(){return o}});var r=n(99597),i=n(96592);!function(e,t,n){e.cntrUpTag={pixelserv:"https://pixel.sitescout.com",pixelsync:"https://pixel-sync.sitescout.com",vendorId:156,sync:function(){var n=e.cntrUpTag.pixelsync+"/dmp/asyncPixelSync",r=t.createElement("iframe");(r.frameElement||r).style.cssText="width: 0; height: 0; border: 0; display: none !important;",r.src="javascript:false",waitForDom(function(e,i){t.body.appendChild(r);var a=r.contentWindow.document,o=[];e&&o.push("gdpr_consent="+encodeURIComponent(e)),"boolean"==typeof i&&o.push("gdpr="+(i?"1":"0"));var c=o.join("&");n+=c?"?"+c:"",a.open().write("<body onload=\"window.location.href='"+n+"'\">"),a.close()})},track:function(t,n){var r=e.cntrUpTag.pixelserv,i=e[t]||{};i.hasOwnProperty("cntr_url")||(i.cntr_url=e.cntrUpTag.cntrUrl);var a=[];for(var o in i)i.hasOwnProperty(o)&&a.push(encodeURIComponent(o)+"="+encodeURIComponent(i[o]));if("undefined"!=typeof Storage&&!1!==e.cntrUpTag.cookieless){var c=JSON.parse(e.localStorage.getItem("cntr_attr"))||[];c&&c.length&&c.forEach(function(e){var t="cntr_clickAuctionId="+encodeURIComponent(e.aid);0>a.indexOf(t)&&a.push(t)})}waitForDom(function(e,t){e&&a.push("gdpr_consent="+encodeURIComponent(e)),"boolean"==typeof t&&a.push("gdpr="+(t?"1":"0"));var i=a.join("&");new Image().src=r+"/up/"+n+(i?"?"+i:"")})},cntrUrl:"",cookieless:!0,cmpCallbacks:{},cmpDelay:500,tcfapi:!1};var r=t.currentScript;if(!r){for(var i=t.getElementsByTagName("script"),a=i.length-1;a>=0;a--)if(/\/up.js\?/.test(i[a].src)){r=i[a];break}}try{e.cntrUpTag.cntrUrl=top.location.href}catch(n){e.cntrUpTag.cntrUrl=e.location!==e.parent.location?t.referrer:t.location.href}if(r){var o=r.src.indexOf("?"),c=o>=0?r.src.slice(o):"";"1"===parseQueryParam(c,"um")&&e.cntrUpTag.sync();var l=parseQueryParam(c,"ck")||"cntr_auctionId",s=parseQueryParam(e.cntrUpTag.cntrUrl,l);if("undefined"!=typeof Storage&&"0"!==parseQueryParam(c,"ca")){var u=JSON.parse(e.localStorage.getItem("cntr_attr"))||[],d=new Date().getTime()-7776e6,p=u.filter(function(e){return e.ts>d});s&&p.push({ts:new Date().getTime(),aid:s}),e.localStorage.setItem("cntr_attr",JSON.stringify(p))}else e.cntrUpTag.cookieless=!1}function waitForDom(e){t.body?waitForConsent(e):t.addEventListener?t.addEventListener("DOMContentLoaded",function(){waitForConsent(e)}):t.attachEvent("onreadystatechange",function(){"complete"===t.readyState&&waitForConsent(e)})}function waitForConsent(t){e.cntrUpTag.tcfapi||e.__tcfapi?checkConsent(t):setTimeout(function(){checkConsent(t)},e.cntrUpTag.cmpDelay||500)}function checkConsent(t){var n=e.cntrUpTag.tcfapi||e.__tcfapi,r=e.cntrUpTag.vendorId;if(!n){for(var i,a=e;a;){try{if(a.frames.__tcfapiLocator){i=a;break}}catch(e){}if(a===e.top)break;a=a.parent}i&&(n=function(t,n,r,a){var o=Math.random()+"cntrUpTag";e.cntrUpTag.cmpCallbacks[o]=r,i.postMessage({__tcfapiCall:{command:t,parameter:a,version:n,callId:o}},"*")},e.addEventListener?e.addEventListener("message",postMessageHandler,!1):e.attachEvent("onmessage",postMessageHandler))}n?(e.cntrUpTag.tcfapi=n,n("addEventListener",2,function(e,i){i&&("useractioncomplete"===e.eventStatus||"tcloaded"===e.eventStatus)&&(n("removeEventListener",2,()=>{},e.listenerId),(!e.gdprApplies||e.vendor.consents[r])&&t(e.tcString,e.gdprApplies))},[r])):t()}function postMessageHandler(t){var n={},r=e.cntrUpTag.cmpCallbacks||{};try{n="string"==typeof t.data?JSON.parse(t.data):t.data}catch(e){}var i=n.__tcfapiReturn;i&&"function"==typeof r[i.callId]&&r[i.callId](i.returnValue,i.success)}function parseQueryParam(e,t){var n=RegExp("[?&]"+t+"=([^&]+)&?"),r=e.match(n);return r&&r[1]||null}}(window,document,navigator);let trackThroughBasisUniversalPixel=(e,t)=>{window.cntrData=t,window.cntrUpTag.track("cntrData",e)},trackInAd=async(e,t)=>{try{let n=await getAdConfigurationByUser(e);if(null===n)return;trackThroughBasisUniversalPixel(n.universal_pixel_id,t)}catch(e){console.error(e)}};var a=n(16177);let adConfigStorageKey=e=>"rs:ac:".concat(e),getAdConfigurationByUser=async e=>{let t=adConfigStorageKey(e),n=sessionStorage.getItem(t);if(null!==n)return JSON.parse(n);try{let n=await fetch("".concat("/api","/ad-configurations/?user=").concat(e));if(!n.ok)return null;let{results:r}=await n.json(),i=r.shift();if(!i)return null;return sessionStorage.setItem(t,JSON.stringify(i)),i}catch(e){return null}},storeAnalyticsEvent=async(e,t,n,r)=>{let i="POST",a=JSON.stringify({stream_id:e,event_name:n,data:r}),o=null!==t;if(o){fetch("".concat("/api","/chats/store-event?interval=").concat(t),{method:i,body:a});return}fetch("".concat("/api","/chats/store-event"),{method:i,body:a})},o=(0,r.hg)("analytics/track",async(e,t)=>{let{event_name:n,data:r}=e,{getState:o}=t;try{let e=o(),t=(0,i.yN)(e),c=(0,a.Zz)(e),l=null==t?void 0:t.producer;trackInAd(l,{event_name:n,...r}),storeAnalyticsEvent(null==t?void 0:t.id,c,n,r)}catch(e){console.error(e)}})},85817:function(e,t,n){"use strict";n.d(t,{A_:function(){return g},B:function(){return w},DZ:function(){return C},Gf:function(){return s},I6:function(){return v},J7:function(){return l},Pf:function(){return P},QH:function(){return k},RN:function(){return p},TB:function(){return y},VM:function(){return m},fM:function(){return H},gq:function(){return S},l5:function(){return d},mk:function(){return h},oT:function(){return b},qC:function(){return u},rv:function(){return f},tz:function(){return chatSelector}});var r=n(99597),i=n(68277),a=n(78356),o=n(41366),c=n(38926);let isNotOptimistic=e=>!0!==e.isOptimisticUpdate,addType=e=>t=>({...t,type:e}),addQuizToChatHistory=(e,t)=>{let n=t.payload,r={user:{first_name:"Asked",last_name:"quiz"},type:"quiz",message:"".concat(n.question," ").concat(Object.keys(n.choices).join(", "))};e.latestChatHistory.push(r),_closeChat(e)},addQuizResultsToChatHistory=(e,t)=>{let n=t.payload,r=Object.entries(n.choices).map(e=>{let[t,n]=e;return"".concat(t," ").concat(n.count," - ").concat(n.percentage,"%")}).join(", "),i={user:{first_name:"Quiz",last_name:"results"},type:"quiz",message:"".concat(r,". Answer: ").concat(n.answer)};e.latestChatHistory.push(i),_closeChat(e)},addPollToChatHistory=(e,t)=>{let n=t.payload,r={user:{first_name:"Asked",last_name:"poll"},type:"poll",message:"".concat(n.question," ").concat(Object.keys(n.choices).join(", "))};e.latestChatHistory.push(r),_closeChat(e)},addPollResultsToChatHistory=(e,t)=>{let n=t.payload,r=Object.entries(n.choices).map(e=>{let[t,n]=e;return"".concat(t," ").concat(n.count," - ").concat(n.percentage,"%")}).join(", ");e.latestChatHistory.push({user:{first_name:"Poll",last_name:"results"},type:"poll",message:r}),_closeChat(e)},_clearChatMessages=e=>{e.messages=[],e.latestChatHistory=[],e.greets=0,e.cheers=0,e.hasNotification=!1},_setChatHistory=(e,t)=>{let{messages:n=[],questions:r=[],greetings:i=[],cheers:a=[],purchases:o=[],addToBags:l=[]}=t.payload;if(e.greets+=t.payload.greetings.length,e.cheers+=t.payload.cheers.length,n.length){let t=n.filter(t=>{if(t.isOptimisticUpdate)return!0;let n=(0,c.Z)(t).id!==e.fingerprint;return n});e.messages=[...e.messages,...t].slice(-100),e.hasNotification=!!t.length}let s=[...r.map(addType("question")),...n.map(addType("message")),...i.map(addType("greet")),...a.map(addType("cheer")),...l.map(addType("addToBag")),...o.map(addType("purchase"))].filter(isNotOptimistic);e.latestChatHistory=s.slice(-100)},_closeChat=e=>{e.isOpen=!1},l=(0,r.oM)({name:"chat",initialState:{user:{firstName:"",lastInitial:"",email:""},messages:[],latestChatHistory:[],isOpen:!1,hasNotification:!1,greets:0,cheers:0,fingerprint:null},reducers:{setHasNotification:(e,t)=>{e.hasNotification=t.payload},setChatIsOpen:e=>{e.isOpen=!0},setChatIsClosed:_closeChat,setChatHistory:_setChatHistory,setChatHistoryOptimistically:(e,t)=>{let n={...t.payload,isOptimisticUpdate:!0},r={messages:[],questions:[],greetings:[],cheers:[],addToBags:[],purchases:[]};r[t.payload.chatType].push(n),_setChatHistory(e,{type:"chat/optimisticChatUpdate",payload:r})},setName:(e,t)=>{e.user=t.payload},setUserFingerprint:(e,t)=>{null===e.fingerprint&&(e.fingerprint=t.payload)},clearChatMessages:_clearChatMessages},extraReducers:e=>{e.addCase(a.Hz,_setChatHistory),e.addCase(a.xQ,_closeChat),e.addCase(a.pE,_closeChat),e.addCase(a.he,_closeChat),e.addCase(a.kp,_closeChat),e.addCase(a.aO,_clearChatMessages),e.addCase(o.Nw,_closeChat),e.addCase(a.xq,addPollToChatHistory),e.addCase(a.QE,addPollResultsToChatHistory),e.addCase(a.N8,addQuizToChatHistory),e.addCase(a.v0,addQuizResultsToChatHistory)}}),{setChatHistory:s,setName:u,setChatIsOpen:d,setChatIsClosed:p,setHasNotification:f,setChatHistoryOptimistically:m,setUserFingerprint:h,clearChatMessages:g}=l.actions,{reducer:v}=l,chatSelector=e=>e.chat,y=(0,i.P1)(chatSelector,e=>e.user),S=(0,i.P1)(chatSelector,e=>e.latestChatHistory),k=(0,i.P1)(chatSelector,e=>e.messages),P=(0,i.P1)(chatSelector,e=>e.isOpen),C=(0,i.P1)(chatSelector,e=>e.hasNotification),b=(0,i.P1)(chatSelector,e=>e.greets),H=(0,i.P1)(chatSelector,e=>e.cheers),w=(0,i.P1)(chatSelector,e=>e.fingerprint)},38926:function(e,t,n){"use strict";n.d(t,{O:function(){return useChatScroll},Z:function(){return getChatUser}});var r=n(67294);function useChatScroll(e){let t=r.useRef();return r.useEffect(()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight)},[e]),t}let getChatUser=e=>e.user?e.user:e.name},48361:function(e,t,n){"use strict";n.d(t,{$g:function(){return pollStateSelector},HT:function(){return g},Hd:function(){return u},I6:function(){return m},K4:function(){return c},Lg:function(){return s},Ph:function(){return y},R1:function(){return v},UZ:function(){return f},Yy:function(){return h},iM:function(){return p},x0:function(){return d}});var r=n(99597),i=n(68277),a=n(78356),o=n(55531);let c={pristine:"pristine",answered:"answered"},l={status:c.pristine,currentPoll:null,results:null,pollSelection:null},setCurrentPoll=(e,t)=>{e.status=c.pristine,e.results=null,e.currentPoll=t.payload,e.pollSelection=null},setCurrentPollResults=(e,t)=>{e.results=t.payload},_setPollAsAnswered=e=>{e.status=c.answered},s=(0,r.oM)({name:"poll",initialState:l,reducers:{setPoll:setCurrentPoll,clearPoll:()=>l,setResults:setCurrentPollResults,setPollAsAnswered:_setPollAsAnswered,setPollSelection:(e,t)=>{e.pollSelection=t.payload}},extraReducers:e=>{e.addCase(a.xq,setCurrentPoll),e.addCase(a.QE,setCurrentPollResults),e.addCase(a.N8,setCurrentPoll),e.addCase(a.v0,setCurrentPollResults),e.addCase(o.jh.fulfilled,_setPollAsAnswered)}}),{setPoll:u,clearPoll:d,setResults:p,setPollSelection:f}=s.actions,{reducer:m}=s,pollStateSelector=e=>e.poll,h=(0,i.P1)(pollStateSelector,e=>e.results),g=(0,i.P1)(pollStateSelector,e=>e.currentPoll),v=(0,i.P1)(pollStateSelector,e=>e.status),y=(0,i.P1)(pollStateSelector,e=>e.pollSelection)},55531:function(e,t,n){"use strict";n.d(t,{Gy:function(){return l},ME:function(){return s},jh:function(){return c}});var r=n(99597),i=n(23525),a=n(21851),o=n(48361);let c=(0,r.hg)("polls/answer",async(e,t)=>{let{choice:n}=e,{getState:r,dispatch:c}=t,l=r(),{id:s,streamId:u,closeInterval:d}=(0,o.HT)(l),p=(0,a.xR)(l),f=(0,i.n)(l,"".concat("/api","/polls/").concat(s,"/answer/"));try{let e=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p)},body:JSON.stringify({streamId:u,closeInterval:d,choice:n})});if(!e.ok)throw Error("Failed to answer poll");c((0,o.UZ)(n))}catch(e){console.error(e)}}),l=(0,r.hg)("quiz/answer",async(e,t)=>{let{choice:n}=e,{getState:r,dispatch:c}=t,l=r(),{id:s,streamId:u,closeInterval:d}=(0,o.HT)(l),p=(0,a.xR)(l),f=(0,i.n)(l,"".concat("/api","/quizzes/").concat(s,"/answer/"));try{let e=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p)},body:JSON.stringify({streamId:u,closeInterval:d,choice:n})});if(!e.ok)throw Error("Failed to answer quiz");c((0,o.UZ)(n))}catch(e){console.error(e)}}),s=(0,r.hg)("polls/answer",async(e,t)=>{let{getState:n}=t,r=n(),o=(0,a.xR)(r),c=(0,i.n)(r,"".concat("/api","/quizzes/").concat(e,"/record-winner"));try{let e=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)}});if(!e.ok)throw Error("Failed to report winner")}catch(e){console.error(e)}})},66420:function(e,t,n){"use strict";n.d(t,{GF:function(){return p},Hc:function(){return u},I4:function(){return g},I6:function(){return f},J1:function(){return d},Kj:function(){return collectionsState},Pe:function(){return v},hX:function(){return h},lA:function(){return m}});var r=n(99597),i=n(68277),a=n(78356),o=n(19818),c=n.n(o);let l=(0,r.HF)(),_addCollection=(e,t)=>{let n=t.payload;l.upsertOne(e,{...n,products:n.products.map(e=>{let{id:t}=e;return t})})},s=(0,r.oM)({name:"collections",initialState:l.getInitialState({activeCollection:null}),reducers:{addCollection:_addCollection},extraReducers:e=>{e.addCase(a.Hc,_addCollection)}}),{addCollection:u,openCollectionDrawer:d,closeCollectionDrawer:p}=s.actions,{reducer:f}=s,m=(0,r.hg)("collections/fetch",async(e,t)=>{let{id:n,gqlClient:r}=e,{dispatch:i}=t,{data:{collection:a}}=await r.query({query:c(),variables:{id:n}});i(u({...a,products:a.products.edges.map(e=>{let{node:t}=e;return t})}))}),collectionsState=e=>e.collections,{selectById:h}=l.getSelectors(collectionsState),g=(0,i.P1)(collectionsState,e=>e.collectionDrawerStatus),v=(0,i.P1)(g,e=>e===COLLECTION_DRAWER_STATUS.open)},74907:function(e,t,n){"use strict";n.d(t,{P7:function(){return c},Wm:function(){return a},bS:function(){return checkIfUserIsAdmin},iB:function(){return o},mG:function(){return extractPropertyFromFirstScript},ys:function(){return extractPropertyFromAllScripts}});var r=n(8043),i=n(71693);let removeBadURLSearchParamterValues=e=>!["none",null].includes(e.toLowerCase()),checkIfUserIsAdmin=()=>{let e=document.querySelectorAll("iframe"),t=!!Array.from(e).find(e=>"admin-bar-iframe"==e.id);return t},extractPropertyFromFirstScript=e=>{for(let t of document.scripts)try{if(!(null==t?void 0:t.src))continue;let n=new URL(t.src);if(r.t$.includes(n.host)){let t=n.searchParams.getAll(e).filter(removeBadURLSearchParamterValues).shift();return t}}catch(e){console.debug("Could not parse script",e,t)}},extractPropertyFromAllScripts=e=>{let t=Array.from(document.scripts),n=t.reduce((t,n)=>{try{if(!(null==n?void 0:n.src))return t;let i=new URL(n.src);if(r.t$.includes(i.host)){let n=i.searchParams.getAll(e).filter(removeBadURLSearchParamterValues).shift();n&&t.push(n)}return t}catch(e){return console.debug("Ran into error processing script",e,n),t}},[]);return n},a={HIDDEN:"hidden",DESKTOP_OPEN:"desktop-open",DESKTOP_CLOSED:"desktop-closed",MOBILE_OPEN:"mobile-open",MOBILE_CLOSED:"mobile-closed",FULL_SCREEN_OPEN:"full-screen-open"},o={[a.DESKTOP_OPEN]:{opacity:[0,1]},[a.DESKTOP_CLOSED]:{opacity:0},[a.MOBILE_OPEN]:{opacity:[0,1]},[a.MOBILE_CLOSED]:{opacity:[1,0]},[a.FULL_SCREEN_OPEN]:{opacity:[0,1]},[a.HIDDEN]:{opacity:0,transition:{duration:0}}},c={[a.HIDDEN]:{width:r.Bs.width,height:r.Bs.height,margin:0,opacity:0,borderRadius:"24px",position:"static",pointerEvents:"none"},[a.DESKTOP_OPEN]:{width:r.Bs.width,height:r.Bs.height,margin:0,opacity:1,borderRadius:"24px",position:"static",pointerEvents:"auto"},[a.DESKTOP_CLOSED]:{width:r.Bs.width,height:r.Bs.height,margin:0,opacity:0,borderRadius:"24px",position:"static",pointerEvents:"none"},[a.MOBILE_OPEN]:{height:"100%",width:"100%",borderRadius:0,position:"fixed",pointerEvents:"auto",top:0,bottom:0,right:0,left:0,zIndex:i.wE.zIndexes.modal},[a.MOBILE_CLOSED]:{height:"100%",width:"100%",borderRadius:0,opacity:0,position:"absolute",pointerEvents:"none"},[a.FULL_SCREEN_OPEN]:{width:"56.25vh",height:"100vh",borderRadius:0,opacity:1,position:"fixed",pointerEvents:"auto",top:0,left:"50%",marginLeft:"-".concat(100*(9/16)/2,"vh")}}},41366:function(e,t,n){"use strict";n.d(t,{$2:function(){return w},$d:function(){return eo},Al:function(){return P},Ch:function(){return M},Ds:function(){return N},E1:function(){return T},E5:function(){return Y},Ep:function(){return s},H8:function(){return E},He:function(){return G},Hu:function(){return L},IA:function(){return K},Ib:function(){return d},J4:function(){return ee},Jy:function(){return v},KL:function(){return b},LO:function(){return k},MX:function(){return ea},Ni:function(){return U},Nw:function(){return C},Qf:function(){return en},SO:function(){return j},Sp:function(){return er},T:function(){return V},U:function(){return D},Vq:function(){return W},Vu:function(){return f},YC:function(){return _},Yv:function(){return Q},_k:function(){return F},bD:function(){return x},be:function(){return p},eo:function(){return ec},er:function(){return u},ev:function(){return Z},ey:function(){return z},kW:function(){return X},mq:function(){return O},nD:function(){return ei},oR:function(){return h},pF:function(){return B},s6:function(){return H},sB:function(){return g},t7:function(){return q},uH:function(){return A},w_:function(){return et},x4:function(){return I},xm:function(){return y},y4:function(){return J},yC:function(){return m},z1:function(){return el},zB:function(){return $}});var r=n(99597),i=n(68277),a=n(4545),o=n(78356);(0,r.PH)("common/setHasLiveOffer");let _setViewCount=(e,t)=>{e.viewCount=t.payload.formatted},_setHasLiveOffer=(e,t)=>{let n=o.jG(t);e.hasLiveOffer=!0,e.incomingInteraction=n},_setInteraction=(e,t)=>{let n=e.currentInteraction===t.payload;if(n)return;let r="product-detail"===e.currentInteraction;if(r){e.previousInteraction=t.payload;return}let i="product-collection"===e.currentInteraction,a="product-detail"!==t.payload;if(i&&a){e.previousInteraction=t.payload;return}e.previousInteraction=e.currentInteraction,e.currentInteraction=t.payload},_setInteractionFromSocketEvent=(e,t)=>{let n=o.jG(t);_setInteraction(e,{...t,payload:n})},_clearInteraction=(e,t)=>{e.previousInteraction=null,e.currentInteraction=null,e.incomingInteraction=null},_setNotification=(e,t)=>{e.notification=t.payload,_setInteractionFromSocketEvent(e,t)},c=(0,r.oM)({name:"common",initialState:{incomingInteraction:null,currentInteraction:null,previousInteraction:null,notification:null,viewCount:"1",isMobile:!1,isFullScreen:!1,isAd:!1,clickUrl:null,clickId:null,ifa:null,isMinimized:null,isInContentProducerView:!1,isInPageEmbed:!1,isPlaying:null,isMuted:null,isDismissed:!1,isSharing:!1,hasLiveOffer:!1,liveOfferAnimationComplete:!1,autoplay:!0,displayPoweredByBar:!0,appDisplayVariant:"hidden",errorMessage:null,appHasLargeViewport:!1,appScrollPosition:null,appCoordinates:null},reducers:{setViewCount:_setViewCount,clearCurrentInteraction:_clearInteraction,setCurrentInteraction:_setInteraction,goBackToPreviousInteraction:(e,t)=>{let n=e.previousInteraction,r=e.currentInteraction,i=n===r;if(i){_clearInteraction(e,t);return}e.currentInteraction=n,e.previousInteraction=r},setIsMobile:(e,t)=>{e.isMobile=t.payload},setAutoplay:(e,t)=>{e.autoplay=t.payload},setDisplayPoweredByBar:(e,t)=>{e.displayPoweredByBar=t.payload},setIsFullScreen:(e,t)=>{e.isFullScreen=t.payload},setIsAd:(e,t)=>{e.isAd=t.payload},setIFA:(e,t)=>{e.ifa=t.payload},setClickUrl:(e,t)=>{e.clickUrl=t.payload},setClickId:(e,t)=>{e.clickId=t.payload},setIsInContentProducerView:(e,t)=>{e.isInContentProducerView=t.payload},setIsInPageEmbed:(e,t)=>{e.isInPageEmbed=t.payload},setIsPlaying:(e,t)=>{let n=null===e.isPlaying,r=!1===t.payload;if(n&&r){e.isPlaying=null;return}e.isPlaying=t.payload},setIsMuted:(e,t)=>{e.isMuted=t.payload},setIsMinimized:(e,t)=>{e.isMinimized=t.payload},setIsDismissed:(e,t)=>{e.isDismissed=t.payload},setIsSharing:(e,t)=>{e.isSharing=t.payload},setHasLiveOffer:(e,t)=>{e.hasLiveOffer=t.payload},setLiveOfferAnimationComplete:(e,t)=>{e.liveOfferAnimationComplete=t.payload,e.previousInteraction=e.currentInteraction,e.currentInteraction=e.incomingInteraction,e.incomingInteraction=null},setAppDisplayVariant:(e,t)=>{e.appDisplayVariant=t.payload},setErrorMessage:(e,t)=>{e.errorMessage=t.payload},clearErrorMessage:e=>{e.errorMessage=null},setAppHasLargeViewport:(e,t)=>{e.appHasLargeViewport=t.payload},setAppScrollPosition:(e,t)=>{e.appScrollPosition=t.payload},setAppCoordinates:(e,t)=>{e.appCoordinates=t.payload}},extraReducers:e=>{e.addCase(o.qg,_setViewCount),e.addCase(o.aO,e=>{e.isPlaying=!1}),e.addCase(o.pE,_setHasLiveOffer),e.addCase(o.xQ,_setHasLiveOffer),e.addCase(o.he,_setHasLiveOffer),e.addCase(o.kp,_setHasLiveOffer),e.addCase(o.wv,_setInteractionFromSocketEvent),e.addCase(o.nJ,_clearInteraction),e.addCase(o.xq,_setInteractionFromSocketEvent),e.addCase(o.QE,_setInteractionFromSocketEvent),e.addCase(o.N8,_setInteractionFromSocketEvent),e.addCase(o.UX,_setInteractionFromSocketEvent),e.addCase(o.v0,_setInteractionFromSocketEvent),e.addCase(o.zq,_setInteractionFromSocketEvent),e.addCase(o.YK,_setNotification),e.addCase(o.CP,_setNotification),e.addCase(a.Pn,_clearInteraction)}}),{setViewCount:l,setIsMobile:s,setIsFullScreen:u,setIsAd:d,setIFA:p,setClickUrl:f,setClickId:m,setIsInContentProducerView:h,setIsPlaying:g,setIsMinimized:v,setIsMuted:y,setIsDismissed:S,setIsSharing:k,setHasLiveOffer:P,setLiveOfferAnimationComplete:C,clearCurrentInteraction:b,setCurrentInteraction:H,goBackToPreviousInteraction:w,setIsInPageEmbed:I,setAppDisplayVariant:_,setAutoplay:E,setDisplayPoweredByBar:O,setErrorMessage:A,clearErrorMessage:N,setAppHasLargeViewport:T,setAppScrollPosition:x,setAppCoordinates:F,setBlockedFromTrivia:R}=c.actions,commonStateSelector=e=>e.common,D=(0,i.P1)(commonStateSelector,e=>e.viewCount),L=(0,i.P1)(commonStateSelector,e=>e.isMobile),B=(0,i.P1)(commonStateSelector,e=>e.notification),M=(0,i.P1)(commonStateSelector,e=>e.isFullScreen),j=(0,i.P1)(commonStateSelector,e=>e.isAd),U=(0,i.P1)(commonStateSelector,e=>e.ifa),G=(0,i.P1)(commonStateSelector,e=>e.clickUrl),V=(0,i.P1)(commonStateSelector,e=>e.clickId),z=(0,i.P1)(commonStateSelector,e=>e.displayPoweredByBar),q=(0,i.P1)(commonStateSelector,e=>e.appDisplayVariant),Z=(0,i.P1)(commonStateSelector,e=>null!==e.isPlaying&&e.isPlaying),W=(0,i.P1)(commonStateSelector,e=>null===e.isPlaying&&!e.isInContentProducerView&&!e.isFullScreen),J=(0,i.P1)(commonStateSelector,e=>null===e.isMuted||e.isMuted),Q=(0,i.P1)(commonStateSelector,e=>null!==e.isMuted),K=(0,i.P1)(commonStateSelector,e=>e.hasLiveOffer);(0,i.P1)(commonStateSelector,e=>e.liveOfferAnimationComplete);let Y=(0,i.P1)(commonStateSelector,e=>e.autoplay);(0,i.P1)(commonStateSelector,e=>e.isDismissed);let $=(0,i.P1)(commonStateSelector,e=>e.isSharing),X=(0,i.P1)(commonStateSelector,e=>e.isMinimized),ee=(0,i.P1)(commonStateSelector,e=>e.isInContentProducerView),et=(0,i.P1)(commonStateSelector,e=>e.isInPageEmbed),en=(0,i.P1)(commonStateSelector,e=>e.currentInteraction),er=(0,i.P1)(commonStateSelector,e=>e.previousInteraction);(0,i.P1)(commonStateSelector,e=>e.isMobile&&e.isInPageEmbed);let ei=(0,i.P1)(en,e=>e&&!["product","product-collection","view-cart","discount","notification-link","notification-text","request-quiz-winners"].includes(e)),ea=(0,i.P1)(commonStateSelector,e=>e.errorMessage),eo=(0,i.P1)(commonStateSelector,e=>e.appHasLargeViewport),ec=(0,i.P1)(commonStateSelector,e=>e.appScrollPosition),el=(0,i.P1)(commonStateSelector,e=>e.appCoordinates);t.ZP=c.reducer},16177:function(e,t,n){"use strict";n.d(t,{Zz:function(){return replayIntervalForActiveStreamSelector},dQ:function(){return m},j_:function(){return d},mg:function(){return activeStreamIsEndedSelector}});var r=n(68277),i=n(13774),a=n(32123),o=n(6143),c=n(74907),l=n(96592),s=n(90341),u=n(41366);(0,r.P1)(u.Qf,e=>[e,"discount"!==e].every(Boolean));let d=(0,r.P1)(e=>m(e),e=>e,(e,t)=>s.Hq(t,e)),replayIntervalForActiveStreamSelector=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=m(e),r=s.rg(e,n);if(null===r)return null;let i=(0,o.getIntervalBy)(t);return i(r)},activeStreamIsEndedSelector=e=>{let t=(0,u.w_)(e),n=l.yN(e),r=s.dp(e,n.id);if(!n)return!1;let i=!(null==n?void 0:n.isReplay)&&(0,a.El)(n);return!t&&(!!r||!!i)},shouldPlayOnPage=e=>{let{plays_on_pages:t=""}=e;return"ALL"===t||location.href.toLowerCase().includes(t.toLowerCase())},p=(0,r.wN)(i.PW,(e,t)=>JSON.stringify(e)===JSON.stringify(t)),f=null,m=p(e=>l.x4(e),e=>l.O6(e),e=>s.Fb(e),e=>(0,u.w_)(e),(e,t,n,r)=>{let i=n.replayIdByStreamId,o=[...e],l=null;for(;null===l;){var u;let e=o[0];if(!e)break;if(r){l=e;break}let d=t[e],p=s.K6(d.id,i,n.entities,n.progressById);if(p){o.shift();continue}let f=d.isPlaying,m=null==d?void 0:null===(u=d.configuration)||void 0===u?void 0:u.app_follows_while_playing;if(f&&m){l=e;break}if(!shouldPlayOnPage(d)){o.shift();continue}if((0,a.S2)(d)){l=e;break}let h=(0,c.bS)();if(h&&(0,a.OV)(d)){l=e;break}let g=i[e],v=n.entities[g];if(!v){o.shift();continue}let y=[!v.is_embeded,!v.processed].some(Boolean);if(y||!shouldPlayOnPage(v)){o.shift();continue}l=e;break}return null===l?f:(f=l,l)})},89878:function(e,t,n){"use strict";n.d(t,{Ie:function(){return s},bV:function(){return u},jl:function(){return p}});var r=n(99597),i=n(68277),a=n(78356),o=n(85817);let generateRandomNumber=e=>Math.floor(Math.random()*e)*(Math.round(Math.random())?1:-1),crowdNoiseFactory=(e,t)=>({id:(0,r.x0)(),randomX:generateRandomNumber(15),randomRotate:generateRandomNumber(45),type:e,data:t}),_addChat=(e,t)=>{let{hearts:n=[],greetings:r=[],cheers:i=[],purchases:a=[],discounts:o=[],addToBags:c=[]}=t.payload,l=[n,o,r.length,i.length,c.length,a.length].some(Boolean);if(!l)return e;let s=Array.from(Array(n)).map(()=>crowdNoiseFactory("heart")),u=Array.from(Array(o)).map(()=>crowdNoiseFactory("discount")),d=null==r?void 0:r.map(()=>crowdNoiseFactory("greet")),p=null==i?void 0:i.map(()=>crowdNoiseFactory("cheer")),f=null==c?void 0:c.map(e=>crowdNoiseFactory("addToBag",e)),m=null==a?void 0:a.map(e=>crowdNoiseFactory("purchase",e));if(e.chats.length>=20)return e;let h=[...e.chats,...s,...u,...p,...d,...m,...f];e.chats=h},c={chats:[]},_clearCrowdNoise=(e,t)=>c,l=(0,r.oM)({name:"crowdNoise",initialState:c,reducers:{clearCrowdNoise:_clearCrowdNoise,addCrowdNoiseOptimistically:(e,t)=>{let n=t.payload.map(e=>crowdNoiseFactory(e.type,e)),r=[...e.chats,...n];e.chats=r},removeCrowdNoise:(e,t)=>{var n;return{...e,chats:e.chats.filter((n=t.payload,e=>e.id!==n.id))}}},extraReducers:e=>{e.addCase(a.Hz,_addChat),e.addCase(a.nJ,_clearCrowdNoise),e.addCase(o.l5,_clearCrowdNoise)}}),{addCrowdNoiseOptimistically:s,removeCrowdNoise:u,clearCrowdNoise:d}=l.actions,p=(0,i.P1)(e=>e.crowdNoise,e=>e.chats);t.ZP=l.reducer},28338:function(e,t,n){"use strict";n.d(t,{DZ:function(){return H},Gx:function(){return P},NK:function(){return C},RG:function(){return h},bd:function(){return v},eu:function(){return b},g2:function(){return m},iR:function(){return k},rj:function(){return u},t7:function(){return g},v9:function(){return S}});var r=n(99597),i=n(68277),a=n(78356),o=n(4545);let c="started",l="finished",s="inactive",u={[c]:c,[l]:l,won:"won",[s]:s},d={discount_amount:null,discount_code:null,grabType:"percent",grab:[],currentGrab:0,remainingCurrentGrab:0,grabState:u.inactive},p=(0,r.oM)({name:"discountGrab",initialState:d,reducers:{setGrabType:(e,t)=>{e.grabType=t.payload},activateNextGrab:(e,t)=>{e.currentGrab=Math.min(e.currentGrab+1,e.grab.length-1),e.remainingCurrentGrab=e.grab[e.currentGrab].available},setGrabAsWon:(e,t)=>{let{code:n,discount_amount:r}=t.payload;e.discount_amount=r,e.discount_code=n,e.grabState=u.won},setGrabAsComplete:(e,t)=>{e.grabState=u.finished,e.remainingCurrentGrab=0}},extraReducers:e=>{e.addCase(a.Hz,(e,t)=>{let{addToBags:n=[]}=t.payload;if(!n.length||e.grabState!==u.started)return;let r=2===e.currentGrab,i=0===e.remainingCurrentGrab;if(i&&r){e.grabState=u.finished;return}let a=Math.max(e.remainingCurrentGrab-n.length,0),o=0===a;e.remainingCurrentGrab=a,e.grab[e.currentGrab].available=a,o&&!r&&(e.currentGrab=e.currentGrab+1,e.remainingCurrentGrab=e.grab[e.currentGrab].available)}),e.addCase(a.kp,(e,t)=>{let{discount_type:n,offers:r}=t.payload;e.grab=r.map(e=>{let{discount_amount:t,discount_codes_available:n}=e;return{amount:t,available:n}}),e.currentGrab=0,e.grabState=u.started,e.remainingCurrentGrab=r[0].discount_codes_available,e.grabType=n})}}),{setGrabType:f,setGrabAsComplete:m,activateNextGrab:h,setGrabAsWon:g}=p.actions,discountGrabSelector=e=>e.discountGrab,v=(0,i.P1)(discountGrabSelector,e=>e.grabType),y=(0,i.P1)(discountGrabSelector,e=>e.discount_amount),S=(0,i.P1)(discountGrabSelector,e=>e.grab),k=(0,i.P1)(discountGrabSelector,e=>e.grabState),P=(0,i.P1)(k,e=>e===u.finished);(0,i.P1)(k,e=>e===u.won);let C=(0,i.P1)(discountGrabSelector,e=>e.remainingCurrentGrab),b=(0,i.P1)(discountGrabSelector,e=>e.currentGrab),H=(0,i.P1)(v,y,(e,t)=>(0,o.y5)(e,t));t.ZP=p.reducer},4545:function(e,t,n){"use strict";n.d(t,{BM:function(){return y},Cg:function(){return k},Pn:function(){return d},YW:function(){return P},gN:function(){return h},ts:function(){return p},y5:function(){return getDiscountText}});var r=n(99597),i=n(68277),a=n(78356),o=n(11117),c=n(28338);let l={inactive:"inactive",offering:"offering",claimed:"claimed"},s={status:l.inactive,discountType:null,amount:null,code:null,shouldClearAfterAddToBag:!1},getDiscountText=(e,t)=>"percent"===e?"".concat(t,"%"):"$".concat(t),getDiscountOffText=(e,t)=>"".concat(getDiscountText(e,t)," Off"),clearDiscountStateOnStreamClear=(e,t)=>e.shouldClearAfterAddToBag||e.status!==l.claimed?s:e,_setDiscount=(e,t)=>{let{code:n,discount_type:r,discount_amount:i,shouldClearAfterAddToBag:a=!1}=t.payload;e.discountType=r,e.amount=i,e.code=n,e.status=l.offering,e.shouldClearAfterAddToBag=a},_setDiscountClaimed=(e,t)=>{e.status=l.claimed},_setAndClaimDiscount=(e,t)=>{_setDiscount(e,t),_setDiscountClaimed(e,t)},_setAndClaimDiscountForSingleUseCodes=(e,t)=>{_setAndClaimDiscount(e,{...t,payload:{...t.payload,shouldClearAfterAddToBag:!0}})},u=(0,r.oM)({name:"discounts",initialState:s,reducers:{setDiscountClaimed:_setDiscountClaimed,clearCurrentDiscount:(e,t)=>s},extraReducers:e=>{e.addCase(a.pE,_setDiscount),e.addCase(o.RB,_setAndClaimDiscountForSingleUseCodes),e.addCase(c.t7,_setAndClaimDiscountForSingleUseCodes),e.addCase(a.nJ,clearDiscountStateOnStreamClear)}}),{setDiscountClaimed:d,clearCurrentDiscount:p}=u.actions;t.ZP=u.reducer;let discountStateSelector=e=>e.discounts,f=(0,i.P1)(discountStateSelector,e=>e.discountType),m=(0,i.P1)(discountStateSelector,e=>e.amount),h=(0,i.P1)(f,m,(e,t)=>getDiscountOffText(e,t));(0,i.P1)(f,m,(e,t)=>getDiscountText(e,t));let g=(0,i.P1)(discountStateSelector,e=>e.code),v=(0,i.P1)(discountStateSelector,e=>e.status),y=(0,i.P1)(v,e=>e===l.claimed),S=(0,i.P1)(discountStateSelector,e=>e.shouldClearAfterAddToBag),k=(0,i.P1)(y,g,(e,t)=>e?t:null),P=(0,i.P1)(S,g,(e,t)=>e?t:null)},11117:function(e,t,n){"use strict";n.d(t,{P7:function(){return s},RB:function(){return u},Yw:function(){return o},bh:function(){return f},mk:function(){return d},n:function(){return p},nF:function(){return m}});var r=n(99597),i=n(68277),a=n(78356);let o={inactive:"inactive",started:"started",won:"won",lost:"lost"},c={status:o.inactive,chanceToWin:null,giftType:null,giftAmount:null,availableGifts:0},l=(0,r.oM)({name:"giftDrop",initialState:c,reducers:{clearGiftDrop:(e,t)=>c,setHasWonGiftDrop:(e,t)=>{e.status=o.won},setHasLostGiftDrop:(e,t)=>{e.status=o.lost}},extraReducers:e=>{e.addCase(a.he,(e,t)=>{let{chance_to_win:n,discount_amount:r,discount_type:i,available_gifts:a}=t.payload;e.status=o.started,e.giftAmount=r,e.giftType=i,e.chanceToWin=n,e.availableGifts=a})}}),{clearGiftDrop:s,setHasWonGiftDrop:u,setHasLostGiftDrop:d}=l.actions,giftStateSelector=e=>e.giftDrop,p=(0,i.P1)(giftStateSelector,e=>null==e?void 0:e.status);(0,i.P1)(p,e=>e!==o.inactive),(0,i.P1)(p,e=>[o.won,o.lost].includes(e));let f=(0,i.P1)(giftStateSelector,e=>null==e?void 0:e.chanceToWin),m=(0,i.P1)(giftStateSelector,e=>e.availableGifts);t.ZP=l.reducer},26674:function(e,t,n){"use strict";n.d(t,{Eo:function(){return l},Jy:function(){return o},Tj:function(){return s},e6:function(){return c},n2:function(){return d},po:function(){return u}});var r=n(99597),i=n(68277);let a=(0,r.oM)({name:"merchant",initialState:{storeFrontAccessToken:null,storeId:null,shop:null},reducers:{setStoreId:(e,t)=>{e.storeId=t.payload},setStoreFrontAccessToken:(e,t)=>{e.storeFrontAccessToken=t.payload},setShop:(e,t)=>{e.shop=t.payload}}});t.ZP=a.reducer;let{setStoreId:o,setStoreFrontAccessToken:c,setShop:l}=a.actions,merchantStateSelector=e=>e.merchant,s=(0,i.P1)(merchantStateSelector,e=>e.storeFrontAccessToken),u=(0,i.P1)(merchantStateSelector,e=>e.storeId),d=(0,i.P1)(merchantStateSelector,e=>e.shop)},69433:function(e,t,n){"use strict";n.d(t,{Ap:function(){return _},Cn:function(){return v},F0:function(){return L},Fu:function(){return b},IR:function(){return u},LL:function(){return y},OC:function(){return M},Th:function(){return F},at:function(){return h},dA:function(){return g},dV:function(){return R},e7:function(){return w},iq:function(){return D},l9:function(){return x},n:function(){return S},ro:function(){return f},yI:function(){return H},yv:function(){return B},zc:function(){return C}});var r=n(99597),i=n(68277),a=n(78356),o=n(66420);let c=(0,r.HF)(),l=c.getInitialState({currentProduct:null,currentGift:null,discountCode:null,productAddedToCart:!1,hasLiveOffer:!1,productErrorMessage:null,cart:[]}),_clearCurrentProduct=e=>{e.currentProduct=null,e.currentGift=null,e.discountCode=null,e.productAddedToCart=!1,e.productErrorMessage=null},generateSelectableOptions=e=>{var t;let{options:n=[],selectedVariants:r={}}=e,i=1===n.length,a=(null===(t=n[0])||void 0===t?void 0:t.values[0])==="Default Title";i&&a&&(r["0"]="Default Title");let o=!r;if(o)return{selectedVariants:r,filteredOptions:n};let c=Object.keys(r).map(e=>parseInt(e)),l=n.filter((e,t)=>!c.includes(t));return{selectedVariants:r,filteredOptions:l}},_addProduct=(e,t)=>{let n={...t.payload,...generateSelectableOptions(t.payload)};c.upsertOne(e,{...t,payload:n}),e.currentGift=null,e.currentProduct=n.id},_addProducts=(e,t)=>{let{currentProduct:n}=e;t.payload.products.forEach(n=>_addProduct(e,{...t,payload:n})),e.currentProduct=n},s=(0,r.oM)({name:"product",initialState:l,reducers:{setCurrentProduct:(e,t)=>{_clearCurrentProduct(e),e.currentProduct=t.payload},addProducts:c.upsertMany,setProductAddedToCart:(e,t)=>{e.productAddedToCart=t.payload},setSelectedOptions:(e,t)=>{let n=e.currentProduct,r=e.entities[n];r.selectedVariants={...r.selectedVariants,...t.payload}},setSelectedGiftOptions:(e,t)=>{let n=e.currentGift,r=e.entities[n];r.selectedVariants={...r.selectedVariants,...t.payload}},clearSelectedVariants:e=>{let t=e.currentProduct;e.entities[t].selectedVariants={}},clearProduct:_clearCurrentProduct,clearCart:e=>{e.cart=[]},addProductToCart:(e,t)=>{e.cart.push(t.payload)},removeItemFromCart:(e,t)=>{let n=t.payload,r=e.cart.findIndex(e=>e.id===n);e.cart.splice(r,1)},setProductErrorMessage:(e,t)=>{e.productErrorMessage=t.payload}},extraReducers:e=>{e.addCase(a.xQ,(e,t)=>{_addProduct(e,{...t,payload:t.payload.product}),_addProduct(e,{...t,payload:t.payload.gift}),e.currentProduct=t.payload.product.id,e.currentGift=t.payload.gift.id,e.discountCode=t.payload.code}),e.addCase(a.wv,_addProduct),e.addCase(a.kp,(e,t)=>{let{product:n}=t.payload;_addProduct(e,{...t,payload:n})}),e.addCase(a.nJ,_clearCurrentProduct),e.addCase(a.Hc,_addProducts),e.addCase(o.Hc,_addProducts)}}),{setCurrentProduct:u,setProductAddedToCart:d,clearProduct:p,setSelectedOptions:f,clearSelectedVariants:m,setSelectedGiftOptions:h,addProductToCart:g,removeItemFromCart:v,clearCart:y,setProductErrorMessage:S}=s.actions,productStateSelector=e=>e.products,{selectById:k,selectEntities:P}=c.getSelectors(productStateSelector),C=(0,i.P1)((e,t)=>t,P,(e,t)=>t[e]),b=(0,i.P1)(productStateSelector,e=>e.currentProduct),H=(0,i.P1)(b,P,(e,t)=>e?t[e]:null),w=(0,i.P1)(productStateSelector,e=>e.discountCode),I=(0,i.P1)(productStateSelector,e=>e.currentGift),_=(0,i.P1)(I,P,(e,t)=>t[e]),E=(0,i.P1)(H,e=>null==e?void 0:e.options),O=(0,i.P1)(_,e=>null==e?void 0:e.options),A=(0,i.P1)(H,e=>(null==e?void 0:e.selectedVariants)||{}),N=(0,i.P1)(_,e=>null==e?void 0:e.selectedVariants),T=(0,i.P1)(H,e=>null==e?void 0:e.filteredOptions);(0,i.P1)(_,e=>null==e?void 0:e.filteredOptions);let x=(0,i.P1)(E,O,A,N,_,(e,t,n,r,i)=>{var a,o;let c=(null===(a=Object.keys(n))||void 0===a?void 0:a.length)>=(null==e?void 0:e.length);if(!i)return c;{let e=(null===(o=Object.keys(r))||void 0===o?void 0:o.length)>=(null==t?void 0:t.length);return c&&e}}),F=(0,i.P1)(E,O,A,N,_,(e,t,n,r,i)=>{let a=e.filter(e=>{var t;let r=e.values,i=null===(t=Object.values(n))||void 0===t?void 0:t.some(e=>r.includes(e));return!i});if(!i)return a;{let e=t.filter(e=>{var t;let n=e.values,i=null===(t=Object.values(r))||void 0===t?void 0:t.some(e=>n.includes(e));return!i});return e.concat(a)}});(0,i.P1)(T,e=>(null==e?void 0:e.length)>0);let R=(0,i.P1)(productStateSelector,e=>e.cart),D=(0,i.P1)(R,P,(e,t)=>e.map(e=>t[e.id]).filter(Boolean)),L=(0,i.P1)(R,e=>e.length),B=(0,i.P1)(H,D,(e,t)=>t.includes(e)),M=(0,i.P1)(productStateSelector,e=>e.productErrorMessage);t.ZP=s.reducer},88058:function(e,t,n){"use strict";n.d(t,{GY:function(){return l},iC:function(){return c},tP:function(){return s}});var r=n(99597),i=n(68277),a=n(78356);let _setWinnerCount=(e,t)=>{e.winnerCount=t.payload.count},o=(0,r.oM)({name:"quiz",initialState:{isWinner:!0,winnerCount:null},reducers:{setIsWinner:(e,t)=>{e.isWinner=t.payload}},extraReducers:e=>{e.addCase(a.zq,_setWinnerCount)}}),{setIsWinner:c}=o.actions,quizStateSelector=e=>e.quiz,l=(0,i.P1)(quizStateSelector,e=>e.isWinner),s=(0,i.P1)(quizStateSelector,e=>e.winnerCount);t.ZP=o.reducer},90341:function(e,t,n){"use strict";n.d(t,{Ar:function(){return b},Fb:function(){return replayStateSelector},Hq:function(){return k},K6:function(){return replayHasBeenWatchedByStreamId},PH:function(){return d},dH:function(){return p},dp:function(){return C},eK:function(){return l},rg:function(){return P},zV:function(){return u}});var r=n(99597),i=n(68277);let a=(0,r.HF)(),o=a.getInitialState({progressById:{},replayIdByStreamId:{}}),c=(0,r.oM)({name:"replay",initialState:o,reducers:{addReplay:(e,t)=>{let{id:n,start:r,end:i,stream:o}=t.payload,c=new Date(r).valueOf();a.upsertOne(e,{...t.payload,start:c,end:new Date(i).valueOf(),stream:o.id}),void 0===e.progressById[n]&&(e.progressById[n]=0),e.replayIdByStreamId[o.id]=n},updateReplay:(e,t)=>{a.upsertOne(e,{...t.payload,stream:t.payload.stream.id})},resetReplayProgress:(e,t)=>{let{id:n}=t.payload;e.progressById[n]=0},updateReplayProgress:(e,t)=>{let{id:n,progress:r}=t.payload;if(!n)return e;let i=e.replayIdByStreamId[n];if(!i)return e;e.progressById[i]=r},completeReplayProgress:(e,t)=>{let{id:n}=t.payload,r=e.entities[n],i=r.end-r.start;e.progressById[n]=i}}});t.ZP=c.reducer;let{addReplay:l,updateReplay:s,updateReplayProgress:u,completeReplayProgress:d,resetReplayProgress:p}=c.actions,replayStateSelector=e=>e.replays,{selectIds:f,selectEntities:m,selectAll:h,selectTotal:g,selectById:v}=a.getSelectors(replayStateSelector),y=(0,i.P1)(replayStateSelector,e=>e.progressById);(0,i.P1)(y,(e,t)=>t,(e,t)=>t?e[t]:null);let S=(0,i.P1)(replayStateSelector,(e,t)=>e.replayIdByStreamId);(0,i.P1)(S,(e,t)=>t,(e,t)=>e[t]),(0,i.P1)((e,t)=>t,S,m,(e,t,n)=>{if(!e)return null;let r=t[e];return r?n[r]:null});let k=(0,i.P1)((e,t)=>t,S,m,(e,t,n)=>{if(!e)return null;let r=null==t?void 0:t[e];return r?n[r]:null}),P=(0,i.P1)([(e,t)=>t,S,m,y],(e,t,n,r)=>{let i=t[e];if(!i)return null;let a=n[i],o=r[i],c=a.start+o;return c}),replayHasBeenWatchedByStreamId=(e,t,n,r)=>{if(!e)return!1;let i=t[e];if(!i)return!1;let a=n[i],o=r[i],c=a.end-a.start;return o>=c},C=(0,i.P1)([(e,t)=>t,S,m,y],replayHasBeenWatchedByStreamId),b=(0,i.P1)([(e,t)=>t,S,y],(e,t,n)=>{if(!e)return null;let r=t[e];if(!r)return null;let i=n[r];return i/1e3})},96592:function(e,t,n){"use strict";n.d(t,{Of:function(){return d},PK:function(){return F},Pm:function(){return _},mg:function(){return R},v6:function(){return I},tc:function(){return N},yN:function(){return w},No:function(){return E},N:function(){return O},kO:function(){return g},rH:function(){return y},q$:function(){return A},ZP:function(){return h},I7:function(){return T},O6:function(){return P},x4:function(){return k},rw:function(){return v}});var r=n(99597),i=n(68277),a=n(41366),o=n(90341),c=n(78356),l=n(32123),s=n(66420),u=n(16177);let d={BUY_NOW:"buy_now",ADD_TO_CART:"add_to_cart"},p=(0,r.HF)({sortComparer:(e,t)=>{let n=null===e.end&&null!==t.end,r=null===t.end&&null!==e.end,i=e.isReplay&&!t.isReplay,a=!e.isReplay&&t.isReplay,o=e.start>t.start,c=e.start<t.start;return n?-1:r?1:i?-1:a?1:o?-1:c?1:void 0}}),f=p.getInitialState({streamPlaybackPositionInTime:{}}),m=(0,r.oM)({name:"stream",initialState:f,reducers:{addStream:p.upsertOne,updateStreamPlaybackPositionInTime:(e,t)=>{let{id:n,progress:r}=t.payload;if(!n||void 0===r)return e;e.streamPlaybackPositionInTime[n]=r}},extraReducers:e=>{e.addCase(o.eK,(e,t)=>{p.upsertOne(e,{...t.payload.stream,isReplay:!0})}),e.addCase(c.aO,p.upsertOne),e.addCase(a.sB,(e,t)=>{let n=e.ids[0];if(!n)return;let r=e.entities[n];p.upsertOne(e,{...r,isPlaying:t.payload})}),e.addCase(c.Hc,(e,t)=>{let n=e.ids[0],r={...t,payload:{id:n,collection:t.payload.id}};p.upsertOne(e,r)})}});var h=m.reducer;let{addStream:g,updateStreamPlaybackPositionInTime:v}=m.actions,y=(0,r.hg)("streams/addStreamAndFetchCollection",async(e,t)=>{let{stream:n,gqlClient:r}=e,{dispatch:i}=t;i(g(n)),n.collection&&i((0,s.lA)({id:n.collection,gqlClient:r}))}),streamStateSelector=e=>e.streams,S=(0,i.P1)(streamStateSelector,e=>e.streamPlaybackPositionInTime),{selectIds:k,selectEntities:P,selectAll:C,selectTotal:b,selectById:H}=p.getSelectors(streamStateSelector),w=(0,i.P1)(P,e=>(0,u.dQ)(e),(e,t)=>e[t]);(0,i.P1)(w,e=>e.status);let I=(0,i.P1)(w,e=>e.isReplay),_=(0,i.P1)(w,e=>null==e?void 0:e.configuration),E=(0,i.P1)(_,e=>({colorPrimary:null==e?void 0:e.theme_primary_color,colorAccent:null==e?void 0:e.theme_accent_color,textColorPrimary:null==e?void 0:e.theme_dark_text_color,textColorAccent:null==e?void 0:e.theme_light_text_color})),O=(0,i.P1)(E,e=>{var t,n,r,i;let a=[(null===(t=e.colorPrimary)||void 0===t?void 0:t.toLowerCase())!=="#7700e6",(null===(n=e.colorAccent)||void 0===n?void 0:n.toLowerCase())!=="#e6006f",(null===(r=e.textColorPrimary)||void 0===r?void 0:r.toLowerCase())!=="#212121",(null===(i=e.textColorAccent)||void 0===i?void 0:i.toLowerCase())!=="#ffffff"].some(Boolean);return a}),A=(0,i.P1)(_,e=>e.chat),N=(0,i.P1)(_,e=>e.product_showcase||d.BUY_NOW),T=(0,i.P1)(_,e=>e.product_showcase===d.ADD_TO_CART);(0,i.P1)(_,e=>e.product_showcase===d.BUY_NOW);let x=(0,i.P1)(w,e=>e.collection),F=(0,i.P1)(x,e=>e.collections.entities,(e,t)=>t[e]),R=(0,i.P1)(w,e=>(0,l.oL)(e));(0,i.P1)((e,t)=>t,S,(e,t)=>e?t[e]:null)},21851:function(e,t,n){"use strict";n.d(t,{PU:function(){return o},xR:function(){return l}});var r=n(99597),i=n(68277);let a=(0,r.oM)({name:"user",initialState:{authToken:null},reducers:{setUserAuthToken:(e,t)=>{e.authToken=t.payload}}});t.ZP=a.reducer;let{setUserAuthToken:o,setUserFingerprint:c}=a.actions,l=(0,i.P1)(e=>e.user,e=>e.authToken)},23525:function(e,t,n){"use strict";n.d(t,{n:function(){return getIntervalAwareURL}});var r=n(16177);let getIntervalAwareURL=(e,t,n)=>{let i=(0,r.Zz)(e,n),a=new URL(t);return null!==i&&a.searchParams.append("interval",i),a}},6143:function(e,t){t.getIntervalBy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=null!=t?t:Date.now();return n-n%e}},t.lastCompletedInterval=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.getIntervalBy(e)(n)-e},t.deriveTimeUntilNextRun=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=Date.now()-r,a=i-n,o=t.getIntervalBy(e),c=o(a),l=a%e,s=Math.max(e-l,0);return{timeUntilNextRun:s,currentInterval:c}},t.runOnInterval=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=new class{clear(){(null===this||void 0===this?void 0:this.timeoutId)&&clearTimeout(this.timeoutId)}constructor(){this.runningState=new Promise((e,t)=>{this.resolve=e,this.reject=t}),this.timeoutId=null,this.currentInterval=i}},o=null!==i?Date.now()-i:0,runFuncOnInterval=()=>{let{timeUntilNextRun:i,currentInterval:c}=t.deriveTimeUntilNextRun(n,r,o);a.timeoutId=setTimeout(()=>runFuncOnInterval(e,n),i),a.currentInterval=c;try{e(c)}catch(e){a.clear(),a.reject(e)}};return runFuncOnInterval(),a}},32123:function(e,t,n){"use strict";n.d(t,{El:function(){return isStreamFinished},OV:function(){return a},S2:function(){return i},oL:function(){return o}});let checkVisibility=e=>t=>{let{status:n}=t;return n===e};checkVisibility("STARTING");let r=checkVisibility("HIDDEN"),i=checkVisibility("LIVE"),a=checkVisibility("REHEARSAL"),o=checkVisibility("ENDED"),isStreamFinished=e=>[o(e),r(e)].some(Boolean)},50050:function(e,t,n){"use strict";n.d(t,{j:function(){return getLogger}});let getLogger=()=>{let noop=()=>{};return{log:noop,info:noop,warn:noop,error:noop}}},78356:function(e,t,n){"use strict";n.d(t,{CP:function(){return v},Hc:function(){return h},Hz:function(){return a},N8:function(){return y},QE:function(){return u},UX:function(){return k},YK:function(){return g},aO:function(){return m},he:function(){return l},jG:function(){return getTypeFromSocketEvent},kp:function(){return c},nJ:function(){return f},pE:function(){return o},qg:function(){return i},v0:function(){return S},wv:function(){return d},xQ:function(){return p},xq:function(){return s},zq:function(){return P}});var r=n(38339);let getTypeFromSocketEvent=e=>e.type.split("/")[1],i=(0,r.PH)("socketEvent/view-count"),a=(0,r.PH)("socketEvent/chats"),o=(0,r.PH)("socketEvent/discount"),c=(0,r.PH)("socketEvent/discount-grab"),l=(0,r.PH)("socketEvent/gift-drop"),s=(0,r.PH)("socketEvent/poll"),u=(0,r.PH)("socketEvent/poll-results"),d=(0,r.PH)("socketEvent/product"),p=(0,r.PH)("socketEvent/gift-with-purchase"),f=(0,r.PH)("socketEvent/clear-stream"),m=(0,r.PH)("socketEvent/stream-end"),h=(0,r.PH)("socketEvent/collection"),g=(0,r.PH)("socketEvent/notification-link"),v=(0,r.PH)("socketEvent/notification-text"),y=(0,r.PH)("socketEvent/quiz"),S=(0,r.PH)("socketEvent/quiz-results"),k=(0,r.PH)("socketEvent/request-quiz-winners"),P=(0,r.PH)("socketEvent/quiz-winners")},25480:function(){}}]);