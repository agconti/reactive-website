"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5385],{45385:function(e,t,n){n.r(t),n.d(t,{DiscountTag:function(){return DiscountTag},default:function(){return components_Discounts}});var r,o,a=n(82729),i=n(85893),u=n(67294),l=n(14141),f=n(93598),s=n(95366),c=n(35695),d=n.n(c);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var animated_tag=e=>u.createElement("svg",_extends({width:188,height:74,fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{maxWidth:"100%",maxHeight:"100%"}},e),r||(r=u.createElement("path",{fill:"#fff",d:"M0 0h188v74H0z"},u.createElement("animate",{attributeType:"XML",attributeName:"stroke-dasharray",repeatCount:1,dur:"2.9411764705882355s",values:"0,0,0,524; 0,262,262,0; 524,0,0,0",keyTimes:"0; 0.5; 1",fill:"freeze"}))),o||(o=u.createElement("path",{d:"M21 5a3 3 0 0 1 3-3h141.646a3 3 0 0 1 2.623 1.543l17.778 32a3.002 3.002 0 0 1 0 2.914l-17.778 32A3 3 0 0 1 165.646 72H24a3 3 0 0 1-3-3V5Zm153 37a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z",fill:"#E6CCFF",stroke:"#A94CFF",strokeWidth:2,strokeDasharray:"0,0,0,470.77764892578125"},u.createElement("animate",{attributeType:"XML",attributeName:"stroke-dasharray",repeatCount:1,dur:"2.9411764705882355s",values:"0,0,0,470.77764892578125; 0,235.38882446289062,235.38882446289062,0; 470.77764892578125,0,0,0",keyTimes:"0; 0.5; 1",fill:"freeze"})))),p=n(24036),h=n(32847),m=n(96492),_=n(4545),b=n(41366),x=n(99597),g=n(6143),y=n(16177),v=n(21851);let w=(0,g.getIntervalBy)(),j=(0,x.hg)("discounts/addCrowdNoise",async(e,t)=>{let{getState:n}=t,r=n(),o=(0,y.dQ)(r),a=(0,v.xR)(r),i=JSON.stringify({value:1}),u="".concat("/api","/chats/").concat(o,"/discounts?interval=").concat(w()),l=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:i});if(!l.ok)throw Error("Could not add discount crowdnoise",l)});function _templateObject(){let e=(0,a._)(["\n  width: 100%;\n  background: white;\n  box-shadow: 0px -4px 7px rgba(33, 33, 33, 0.1), 0px -1px 4px rgba(33, 33, 33, 0.23);\n  border-radius: 24px 24px 0px 0px;\n  padding: 12px 4px 4px;\n  z-index: ",";\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  position: absolute;\n    bottom: 0;\n  overflow: hidden;\n\n\n  ",";\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,a._)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n\n  & svg {\n    fill: none;\n  } \n  & path:nth-child(1) {\n    fill: transparent; \n    stroke-dasharray: 0,0,0,524;\n  }\n  & path:nth-child(2) {\n    fill: ","; \n    stroke: ","; \n    stroke-width: 2px; \n    stroke-dasharray: 0,0,0,470.77764892578125;\n  }\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,a._)(["\n  ",";\n  position: absolute;\n  width: 100%;\n  text-align: center;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 2.8em;\n  font-weight: 700;\n  color: black;\n"]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,a._)(["\n  ",";\n  color: ",";\n  padding: 8px 0 12px;\n"]);return _templateObject3=function(){return e},e}function _templateObject4(){let e=(0,a._)(["\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  position: absolute;\n  cursor: pointer;\n  top: 10px;\n  right: 13px;\n  height: 1.6em;\n  width: 1.6em;\n  color: ",";\n  z-index: 1;\n\n  & svg {\n    width: 100%;\n    height: 100%;\n  }\n\n  & svg,\n  & svg > path {\n    fill: none;\n    stroke-linejoin: round;\n    stroke-width: 2;\n    stroke-linecap: round;\n    stroke: currentColor;\n  }\n"]);return _templateObject4=function(){return e},e}let k=(0,l.ZP)(f.m.div).withConfig({componentId:"sc-cfda7426-0"})(_templateObject(),e=>{let{theme:t}=e;return t.zIndexes.header},s.xC("\n    border-radius: 24px 24px 0  0;\n    padding: 12px 8px 20px 8px;\n  ")),D=l.ZP.div.withConfig({componentId:"sc-cfda7426-1"})(_templateObject1(),e=>{let{theme:t}=e;return t.userDefined?d()(.25,t.colorAccent):t.purple100},e=>{let{theme:t}=e;return t.userDefined?t.colorAccent:t.purple400}),C=l.ZP.h3.withConfig({componentId:"sc-cfda7426-2"})(_templateObject2(),s.HQ),O=l.ZP.p.withConfig({componentId:"sc-cfda7426-3"})(_templateObject3(),s.HQ,e=>{let{theme:t}=e;return t.textColorPrimary}),R=l.ZP.div.withConfig({componentId:"sc-cfda7426-4"})(_templateObject4(),e=>{let{theme:t}=e;return t.textColorPrimary}),DiscountTag=e=>{let{discountText:t}=e;return(0,i.jsxs)(D,{children:[(0,i.jsx)(animated_tag,{}),(0,i.jsx)(C,{children:t})]})};var components_Discounts=()=>{let e=(0,m.I0)(),t=(0,m.v9)(_.gN),onClaimClick=async()=>{e((0,_.Pn)()),await e(j())};return(0,i.jsxs)(k,{style:{originX:.5},initial:{y:"20px",opacity:0},animate:{y:"0px",opacity:1},exit:{y:"20px",opacity:0},transition:{duration:.2,bounce:0,ease:"easeOut"},children:[(0,i.jsx)(R,{onClick:()=>{e((0,b.KL)())},children:(0,i.jsx)(h.Z,{})}),(0,i.jsx)(DiscountTag,{discountText:t}),(0,i.jsx)(O,{children:"Expires at the end of the stream"}),(0,i.jsx)(p.Z,{"data-cy":"claim-discount",onClick:onClaimClick,children:"Claim Discount"})]})}},24036:function(e,t,n){var r=n(82729),o=n(85893);n(67294);var a=n(14141),i=n(93598),u=n(95366),l=n(96492),f=n(41366);function _templateObject(){let e=(0,r._)(["\n  ",";\n  background: ",";\n  border: none; \n  border-radius: 1.5em;\n  color: ",";\n  cursor: pointer;\n  font-size: 1.6em;\n  font-weight: 700;\n  height: auto;\n  text-align: center;\n\n  && {\n    padding: ",";\n    ",";\n  }\n\n  && {\n    ",";\n  }\n"]);return _templateObject=function(){return e},e}let s=(0,a.ZP)(i.m.button).withConfig({componentId:"sc-5a61feba-0"})(_templateObject(),u.HQ,e=>{let{theme:t}=e;return t.userDefined?t.colorPrimary:t.gradients.purple},e=>{let{theme:t}=e;return t.white},e=>{let{isFullScreen:t}=e;return t?"16px":"11px 0px"},e=>{let{theme:t}=e;return t.isFloatingWindow&&u.sn("\n      padding: 16px;\n    ")},e=>{let{isDisabled:t,theme:n}=e;if(t)return"\n      background: initial;\n      background-color: ".concat(n.grey400,";\n      cursor: not-allowed;\n    ")});t.Z=e=>{let{children:t,onClick:n,...r}=e,a=(0,l.v9)(f.Ch);return(0,o.jsx)(s,{onClick:n,isFullScreen:a,...r,children:t})}},40065:function(e,t,n){t.__esModule=!0,t.default=function(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return(0,r.default)(e,t,n);if("object"==typeof e&&void 0===t&&void 0===n)return(0,r.default)(e.hue,e.saturation,e.lightness);throw new o.default(1)};var r=_interopRequireDefault(n(34769)),o=_interopRequireDefault(n(47796));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},39205:function(e,t,n){t.__esModule=!0,t.default=function(e,t,n,i){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof i)return i>=1?(0,r.default)(e,t,n):"rgba("+(0,o.default)(e,t,n)+","+i+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===i)return e.alpha>=1?(0,r.default)(e.hue,e.saturation,e.lightness):"rgba("+(0,o.default)(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new a.default(2)};var r=_interopRequireDefault(n(34769)),o=_interopRequireDefault(n(72286)),a=_interopRequireDefault(n(47796));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},35695:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=_interopRequireDefault(n(53603)),o=_interopRequireDefault(n(30678)),a=_interopRequireDefault(n(39624)),i=_interopRequireDefault(n(52852));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=(0,r.default)(function(e,t){if("transparent"===t)return t;var n=(0,a.default)(t);return(0,i.default)(_extends({},n,{lightness:(0,o.default)(0,1,n.lightness+parseFloat(e))}))});t.default=u,e.exports=t.default},39624:function(e,t,n){t.__esModule=!0,t.default=function(e){return(0,o.default)((0,r.default)(e))};var r=_interopRequireDefault(n(84148)),o=_interopRequireDefault(n(95061));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},52852:function(e,t,n){t.__esModule=!0,t.default=function(e){if("object"!=typeof e)throw new u.default(8);if("number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha)return(0,i.default)(e);if("number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha))return(0,a.default)(e);if("number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha)return(0,o.default)(e);if("number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha))return(0,r.default)(e);throw new u.default(8)};var r=_interopRequireDefault(n(40065)),o=_interopRequireDefault(n(39205)),a=_interopRequireDefault(n(26488)),i=_interopRequireDefault(n(13799)),u=_interopRequireDefault(n(47796));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},34769:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=_interopRequireDefault(n(72286)),o=_interopRequireDefault(n(52434)),a=_interopRequireDefault(n(68342));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function colorToHex(e){return(0,a.default)(Math.round(255*e))}function convertToHex(e,t,n){return(0,o.default)("#"+colorToHex(e)+colorToHex(t)+colorToHex(n))}t.default=function(e,t,n){return(0,r.default)(e,t,n,convertToHex)},e.exports=t.default},95061:function(e,t){t.__esModule=!0,t.default=void 0,t.default=function(e){var t,n=e.red/255,r=e.green/255,o=e.blue/255,a=Math.max(n,r,o),i=Math.min(n,r,o),u=(a+i)/2;if(a===i)return void 0!==e.alpha?{hue:0,saturation:0,lightness:u,alpha:e.alpha}:{hue:0,saturation:0,lightness:u};var l=a-i,f=u>.5?l/(2-a-i):l/(a+i);switch(a){case n:t=(r-o)/l+(r<o?6:0);break;case r:t=(o-n)/l+2;break;default:t=(n-r)/l+4}return(t*=60,void 0!==e.alpha)?{hue:t,saturation:f,lightness:u,alpha:e.alpha}:{hue:t,saturation:f,lightness:u}},e.exports=t.default},32847:function(e,t,n){var r=n(67294);let o=r.forwardRef(function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))});t.Z=o}}]);